@{
    ViewBag.Title = "Tin tức";
    ViewBag.ImageURL = "/Images/ImagesCollection/tin-tuc.jpg";
    ViewBag.Decription = "";
    ViewBag.Tag = "Tin tức";
    Layout = "~/Views/Shared/Main_Layout.cshtml";
    //=>
    var topcomment = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.topcomment;
    var topcommentofmonth = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.topcommentofmonth;
    var topcommentofyear = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.topcommentofyear;
    //=>
    var topnews = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.topnews;
    var topnewsofmonth = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.topnewsofmonth;
    var topnewsofyear = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.topnewsofyear;
    //=>
    var productsreviews = (List<DoAn_LapTrinhWeb.Models.NewsProducts>)ViewBag.productsreviews;
    var product = (List<DoAn_LapTrinhWeb.Models.Product>)ViewBag.product;
    var game = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.game;
    //=>
    var trendingnowofday = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.trendingnowofday;
    var trendingnowofmonth = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.trendingnowofmonth;
    var trendingnow = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.trendingnow;
    //=>
    var listtag = (List<DoAn_LapTrinhWeb.Models.Tags>)ViewBag.listtag;
    //=>
    var stickyPosts = (List<DoAn_LapTrinhWeb.Models.StickyPost>)ViewBag.stickyPosts;
    var Hostpostofday = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.Hostpostofday;
    var Hostpostofmonth = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.Hostpostofmonth;
    var Hostpost = (List<DoAn_LapTrinhWeb.Models.News>)ViewBag.Hostpost;
    //=>
}
<link href="~/Content/my_css/ticker-style.css" rel="stylesheet" />
@section scripts{
    <script>
        $(".regular").slick({
            dots: true,
            infinite: true,
            slidesToShow: 4,
            slidesToScroll: 1,
            autoplay: true,
            autoplaySpeed: 2000,
        });
    </script>
    <script src="~/Scripts/my_js/jquery.ticker.js"></script>
    <script src="~/Scripts/my_js/custom_ticker.js"></script>
}
<section class="margin_mobile_fixed">
    <!-- Trending Area Start -->
    <div class="trending-area fix">
        <div class="container mt-10px">
            <div class="trending-main">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="trending-tittle">
                            <strong>Trending now</strong>
                            <!-- <p>Rem ipsum dolor sit amet, consectetur adipisicing elit.</p> -->
                            <div class="trending-animated">
                                <ul id="js-news" class="js-hidden">
                                    @if (trendingnowofday.Count > 0)
                                    {
                                        foreach (var item in trendingnowofday)
                                        {
                                            <li class="news-item"><a class="limit_lenght_trendingnow" href="/tin-tuc/@item.slug">@item.news_title</a></li>
                                        }
                                    }
                                    else if (trendingnowofmonth.Count > 0)
                                    {
                                        foreach (var item in trendingnowofmonth)
                                        {
                                            <li class="news-item"><a class="limit_lenght_trendingnow" href="/tin-tuc/@item.slug">@item.news_title</a></li>
                                        }
                                    }
                                    else
                                    {
                                        {
                                            foreach (var item in trendingnow)
                                            {
                                                <li class="news-item"><a class="limit_lenght_trendingnow" href="/tin-tuc/@item.slug">@item.news_title</a></li>
                                            }
                                        }
                                    }
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-8">
                        <div class="row">
                            @if (stickyPosts.Count > 0)
                            {
                                foreach (var item in stickyPosts)
                                {
                                    <div class="col-lg-6">
                                        <!-- Trending Top -->
                                        <div class="trending-top">
                                            <div class="trend-top-img">
                                                <img src="@item.News.image" alt="@item.News.slug">
                                                <div class="trend-top-cap">
                                                    <span>@item.News.ChildCategory.name</span>
                                                    <p class="stickypost_home"><a href="/tin-tuc/@item.News.slug">@item.News.news_title</a></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            }
                            else if (Hostpostofday.Count > 0)
                            {
                                foreach (var item in Hostpostofday)
                                {
                                    <div class="col-lg-6">
                                        <div class="trending-top">
                                            <div class="trend-top-img">
                                                <img src="@item.image" alt="@item.slug">
                                                <div class="trend-top-cap">
                                                    <span>@item.ChildCategory.name</span>
                                                    <p class="stickypost_home"><a href="/tin-tuc/@item.slug">@item.news_title</a></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            }
                            else if (Hostpostofmonth.Count > 0)
                            {
                                foreach (var item in Hostpostofmonth)
                                {
                                    <div class="col-lg-6">
                                        <div class="trending-top">
                                            <div class="trend-top-img">
                                                <img src="@item.image" alt="@item.slug">
                                                <div class="trend-top-cap">
                                                    <span>@item.ChildCategory.name</span>
                                                    <p class="stickypost_home"><a href="/tin-tuc/@item.slug">@item.news_title</a></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            }
                            else
                            {
                                foreach (var item in Hostpost)
                                {
                                    <div class="col-lg-6">
                                        <div class="trending-top">
                                            <div class="trend-top-img">
                                                <div class="trending-top"></div>
                                                <img src="@item.image" alt="@item.slug">
                                                <div class="trend-top-cap">
                                                    <span>@item.ChildCategory.name</span>
                                                    <p class="stickypost_home"><a href="/tin-tuc/@item.slug">@item.news_title</a></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }
                            }
                        </div>
                     </div>
                    <!-- Riht content -->
                    <div class="col-lg-4">
                        @foreach (var news in ViewBag.newsinnewscategory)
                        {
                            foreach (var item in ViewBag.newscategory)
                            {
                                if (item.childcategory_id == news.childcategory_id)
                                {
                                    <div class="trand-right-single d-flex">
                                        <div class="trand-right-img">
                                            <img src="@news.image" alt="@news.slug">
                                        </div>
                                        <div class="trand-right-cap">
                                            <span class="color3">@item.name</span>
                                            <h4><a href="/tin-tuc/@news.slug">@news.news_title</a></h4>
                                        </div>
                                    </div>
                                }
                            }
                        }
                    </div>
               </div>
            </div>
        </div>
    </div>
    <!-- Trending Area End -->
    <div class="container mt-10px news_slider_slick">
        <h3 class="widget-title mb-10px">Top bài viết tháng</h3>
        <section class="regular slider">
            @if (topnewsofmonth.Count > 0)
            {
                foreach (var item in topnewsofmonth)
                {
                    <div class="news_slider">
                        <a href="/tin-tuc/@item.slug" tabindex="-1">
                            <img src="@item.image">
                            <div class="weekly-caption">
                                <h4>
                                    <span class="color1">@item.ChildCategory.name</span>
                                    <span class="description_news_carowsel">@item.news_title</span>
                                </h4>
                            </div>
                        </a>
                    </div>
                }
            }
            else if (topnewsofyear.Count > 0)
            {
                foreach (var item in topnewsofyear)
                {
                    <div class="news_slider">
                        <a href="/tin-tuc/@item.slug" tabindex="-1">
                            <img src="@item.image">
                            <div class="weekly-caption">
                                <h4>
                                    <span class="color1">@item.ChildCategory.name</span>
                                    <span class="description_news_carowsel">@item.news_title</span>
                                </h4>
                            </div>
                        </a>
                    </div>
                }
            }
            else
            {
                foreach (var item in topnews)
                {
                    <div class="news_slider">
                        <a href="/tin-tuc/@item.slug" tabindex="-1">
                            <img src="@item.image">
                            <div class="weekly-caption">
                                <h4>
                                    <span class="color1">@item.ChildCategory.name</span>
                                    <span class="description_news_carowsel">@item.news_title</span>
                                </h4>
                            </div>
                        </a>
                    </div>
                }
            }
        </section>
    </div>
    <!-- Whats New Start -->
    <section class="whats-news-area pb-20 ">
        <div class="container">
            <div class="row pt-2 bt-1px">
                <div class="col-lg-8">
                    <div class="row">
                        <div class="col-lg-12 bb-1px">
                            <div class="row d-flex justify-content-between">
                                <div class="col-lg-3">
                                    <div class="section-tittle">
                                        <h3>Thảo luận nhiều</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <!-- Nav Card -->
                                    <div class="tab-content" id="nav-tabContent">
                                        <!-- card one -->
                                        <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                                            <div class="whats-news-caption">
                                                <div class="row">
                                                    <!--begin::col-->
                                                    @foreach (var item in topcomment)
                                                    {
                                                        <div class="col-lg-4">
                                                            <div class="single-what-news mb-100">
                                                                <div class="what-img">
                                                                    <img src="@item.image" alt="">
                                                                </div>
                                                                <div class="what-cap">
                                                                    <span class="color2">@item.ChildCategory.name<i class="ms-2 me-1 fa fa-comments" aria-hidden="true"></i>@item.NewsComments.Count</span>
                                                                    <h4><a href="/tin-tuc/@item.slug">@item.news_title</a></h4>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Card two -->
                                    </div>
                                    <!-- End Nav Card -->
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 mt-2">
                            <div class="row d-flex justify-content-between">
                                <div class="col-lg-3">
                                    <div class="section-tittle">
                                        <h3>Bài viết mới</h3>
                                    </div>
                                </div>
                            </div>
                            @foreach (var item in ViewBag.recentnews)
                            {
                                DateTime dateTime = DateTime.Now;
                                <div class="col-12 col-md-12 col-sm-6 blog-paralle">
                                    <div class="type-post">
                                        <div class="entry-cover">
                                            <a href="/tin-tuc/@item.slug"><img src="@item.image" alt="Post" /></a>
                                        </div>
                                        <div class="entry-content">
                                            <a href="/tin-tuc/@item.slug" class="font_roboto_medium">@item.news_title</a>
                                            <span class="me-2 fs-14px"><a href="#" class="font_roboto_medium text-muted">@item.ChildCategory.name</a></span><span class="text-muted fs-14px">@item.create_at.ToString("d/M/yyyy")</span>
                                        </div>
                                    </div>
                                </div>
                            }
                            <ul class="pagination center mt-20px mb-20px">
                                <li><a href="#"><i class="fa fa-angle-left" aria-hidden="true"></i></a></li>
                                <li class="active"><a href="#">1</a></li>
                                <li><a href="#">2</a></li>
                                <li><a href="#"><i class="fa fa-angle-right" aria-hidden="true"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 widget-area">
                    <!-- Widget : Latest Post -->
                    <aside class="widget widget_latestposts bb-1px">
                        <h3 class="widget-title">Đánh giá sản phẩm</h3>
                        @foreach (var news in productsreviews)
                        {
                            {
                                string image = ""; double price = 0; string productname = ""; int countpost = 0;
                                foreach (var products in product)
                                {
                                    if (news.product_id == products.product_id)
                                    {
                                        countpost = products.NewsProducts.Count;
                                        image = products.image;
                                        price = products.price;
                                        productname = products.product_name;
                                    }

                                }
                                <div class="latest-content">
                                    <a href="#" class="recent-post-url" title="Recent Posts">
                                        <i><img src="@image" class="wp-post-image" alt="blog-1" /></i>
                                        <p href="#">@productname</p>
                                        <span class="text-muted">@price</span>
                                    </a>
                                    <div><a href="#" class="text-info fs-14px">@countpost bài viết</a></div>
                                </div>
                            }
                        }
                    </aside><!-- Widget : Latest Post /- -->
                    <aside class="widget widget_latestposts bb-1px">
                        <h3 class="widget-title">Game</h3>
                        @foreach (var item in game)
                        {
                            <div class="latest-content">
                                <a href="#" class="recent-post-url" title="Recent Posts"><i><img src="@item.image" class="wp-post-image" alt="blog-1" /></i></a>
                                <h5><a title="Best Photography Experience Shooting" href="#">@item.news_title</a></h5>
                                <span><a href="#">@item.create_at.ToString("d/M/yyyy")</a></span>
                            </div>
                        }
                    </aside><!-- Widget : Latest Post /- -->
                    <!-- Widget : Tags -->
                    <aside class="widget widget_tags_cloud">
                        <h3 class="widget-title">Tags</h3>
                        <div class="tagcloud">
                            @foreach (var item in listtag)
                            {
                                <a href="/tags/@item.slug">@item.tag_name</a>
                            }
                        </div>
                    </aside><!-- Widget : Tags /- -->
                </div><!-- Widget Area /- -->
            </div>
        </div>
    </section>
    <!-- Whats New End -->
</section>
